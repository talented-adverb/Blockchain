{"version":3,"sources":["../../../../../Croud-funding-starter-file-main/pages/index.js","../../../../../Croud-funding-starter-file-main/node_modules/next/dist/esm/build/templates/pages.js"],"sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\n\n// INTERNAL IMPORT\nimport { CrowdFundingContext } from \"../Context/CrowdFunding\"; // Corrected spelling based on context\nimport { Hero, Card, PupUp, Toast } from \"../Components\";\n\nconst index = () => {\n  // 1. EXTRACT DATA FROM CONTEXT (CrowdFundingContext)\n  const {\n    titleData,\n    createCampaign,\n    donate,\n    getUserCampaigns,\n    getDonations,\n    getCampaigns: getCampaignsData, // Renamed for clarity in useEffect\n    // getCampaigns is missing from context images but is used as getCampaignsData\n    // in useEffect, assuming 'getCampaigns' was exported as 'getCampaigns' or\n    // we should use the one extracted on line 9 (getCampaign) which is now renamed\n    getCampaigns: getCampaignsContextFunction, // Assuming a function for all campaigns\n  } = useContext(CrowdFundingContext);\n\n  // 2. STATE MANAGEMENT FOR CAMPAIGN DATA AND UI\n  const [allcampaign, setAllcampaign] = useState();\n  const [usercampaign, setUsercampaign] = useState();\n  const [loading, setLoading] = useState(true);\n\n  // Toast notifications\n  const [toast, setToast] = useState(null);\n\n  const showToast = (message, type = 'info') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 4000);\n  };\n\n  // DONATE POPUP MODEL STATE\n  const [openModel, setOpenModel] = useState(false);\n  const [donateCampaign, setDonateCampaign] = useState(); // Holds the campaign object for donation\n\n  // 3. EFFECT TO FETCH CAMPAIGN DATA ON MOUNT\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const allData = await getCampaignsContextFunction();\n        const userData = await getUserCampaigns();\n\n        setAllcampaign(allData);\n        setUsercampaign(userData);\n      } catch (error) {\n        console.error(\"Failed to fetch campaigns:\", error);\n        // Optionally set empty arrays or show error message\n        setAllcampaign([]);\n        setUsercampaign([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [getCampaignsContextFunction, getUserCampaigns]); // Include dependencies\n\n  // Optional: Console log to verify state (based on image f15371.png)\n  // console.log(donateCampaign); \n\n  // 4. COMPONENT RENDER\n  return (\n    <>\n      <Hero titleData={titleData} createCampaign={createCampaign} showToast={showToast} />\n\n      {/* Card for All Listed Campaigns */}\n      <Card\n        title=\"All Listed Campaign\"\n        allcampaign={allcampaign}\n        loading={loading}\n        showToast={showToast}\n        setOpenModel={setOpenModel} // Passed to open the donation model\n        setDonate={setDonateCampaign} // Passed to set the campaign object to be donated to\n      />\n\n      {/* Card for User's Created Campaigns */}\n      <Card\n        title=\"Your Created Campaign\"\n        allcampaign={usercampaign}\n        loading={loading}\n        showToast={showToast}\n        setOpenModel={setOpenModel} // Passed to open the donation model\n        setDonate={setDonateCampaign} // Passed to set the campaign object to be donated to\n      />\n\n      {/* Conditional Popup Model for Donation */}\n      {openModel && donateCampaign && (\n        <PupUp\n          setOpenModel={setOpenModel} // To close the model\n          getDonations={getDonations} // To fetch current donations for the campaign\n          donate={donateCampaign} // The campaign object being donated to\n          donateFunction={donate} // The function to execute the donation transaction\n          showToast={showToast}\n        />\n      )}\n\n      {/* Toast Notifications */}\n      {toast && (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={() => setToast(null)}\n        />\n      )}\n    </>\n  );\n};\n\nexport default index;","import { PagesRouteModule } from \"next/dist/esm/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { hoist } from \"next/dist/esm/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"INNER_DOCUMENT\";\nimport * as app from \"INNER_APP\";\n// Import the userland code.\nimport * as userland from \"INNER_PAGE\";\nimport { getHandler } from \"next/dist/esm/server/route-modules/pages/pages-handler\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\nexport const handler = getHandler({\n    srcPage: \"/index\",\n    config,\n    userland,\n    routeModule,\n    getStaticPaths,\n    getStaticProps,\n    getServerSideProps\n});\n\n//# sourceMappingURL=pages.js.map\n"],"names":[],"mappings":"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","ignoreList":[1]}